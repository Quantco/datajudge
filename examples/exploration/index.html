
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Assessing whether data from database complies with reference information.">
      
      
      
        <link rel="canonical" href="https://quantco.github.io/datajudge/examples/exploration/">
      
      
        <link rel="prev" href="../dates/">
      
      
        <link rel="next" href="../../development/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Exploration - datajudge</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
      <link rel="stylesheet" href="../../styles/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exploration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="datajudge" class="md-header__button md-logo" aria-label="datajudge" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            datajudge
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Exploration
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/quantco/datajudge" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    quantco/datajudge
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../testing/" class="md-tabs__link">
        
  
  
    
  
  Testing

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../motivation/" class="md-tabs__link">
        
  
  
    
  
  Motivation

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../company-data/" class="md-tabs__link">
          
  
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../development/" class="md-tabs__link">
        
  
  
    
  
  Development

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../api-documentation/" class="md-tabs__link">
        
  
  
    
  
  API Documentation

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../CHANGELOG/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="datajudge" class="md-nav__button md-logo" aria-label="datajudge" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    datajudge
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/quantco/datajudge" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    quantco/datajudge
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../motivation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Motivation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../company-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Company data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../twitch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dumps of Twitch data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Exploration
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Exploration
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-1-comparing-numbers-of-rows" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 1: Comparing numbers of rows
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-2-investigating-unique-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 2: Investigating unique values
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-3-comparing-column-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 3: Comparing column structure
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHANGELOG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-1-comparing-numbers-of-rows" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 1: Comparing numbers of rows
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-2-investigating-unique-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 2: Investigating unique values
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-3-comparing-column-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 3: Comparing column structure
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/quantco/datajudge/edit/main/docs/examples/exploration.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="exploration">Exploration</h1>
<p>While datajudge seeks to tackle the use case of expressing and evaluating tests against
data, its fairly generic inner workings allow for using it in a rather explorative
workflow as well.</p>
<p>Let's first clarify terminology by exemplifying both scenarios. A person wishing to test
data might ask the question</p>
<blockquote>
<p>Has the number of rows not grown too much from version 1 of the table to version 2 of the table?</p>
</blockquote>
<p>whereas a person wishing to explore the data might ask the question</p>
<blockquote>
<p>By how much has the number of rows grown from version 1 to version 2 of the table?</p>
</blockquote>
<p>Put differently, a test typically revolves around a binary outcome while an exploration
usually doesn't.</p>
<p>In the following we will attempt to illustrate possible usages of datajudge for
exploration by looking at three simple examples.</p>
<p>These examples rely on some insight about how most datajudge <code>Constraint</code> s work under
the hood. Importantly, <code>Constraint</code> s typically come with</p>
<ul>
<li>a <code>retrieve</code> method: this method fetches relevant data from database, given a
  <code>DataReference</code></li>
<li>a <code>get_factual_value</code> method: this is typically a wrapper around <code>retrieve</code> for the
  first <code>DataReference</code> of the given <code>Requirement</code> / <code>Constraint</code></li>
<li>a <code>get_target_value</code> method: this is either a wrapper around <code>retrieve</code> for the
  second <code>DataReference</code> in the case of a <code>BetweenRequirement</code> or an echoing of the
  <code>Constraint</code> s key reference value in the case of a <code>WithinRequirement</code></li>
</ul>
<p>Moreover, as is the case when using datajudge for testing purposes, these approaches rely
on a <a href="ttps://docs.sqlalchemy.org/en/14/core/connections.html">sqlalchemy engine</a>. The
latter is the gateway to the database at hand.</p>
<h2 id="example-1-comparing-numbers-of-rows">Example 1: Comparing numbers of rows</h2>
<p>Assume we have two tables in the same database called <code>table1</code> and <code>table2</code>. Now we
would like to compare their numbers of rows. Naturally, we would like to retrieve
the respective numbers of rows before we can compare them. For this purpose we create
a <code>BetweenTableRequirement</code> referring to both tables and add a <code>NRowsEquality</code>
<code>Constraint</code> onto it.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sa</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datajudge</span><span class="w"> </span><span class="kn">import</span> <span class="n">BetweenRequirement</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="n">your_connection_string</span><span class="p">)</span>
<span class="n">req</span> <span class="o">=</span> <span class="n">BetweenRequirement</span><span class="o">.</span><span class="n">from_tables</span><span class="p">(</span>
    <span class="n">db_name</span><span class="p">,</span>
    <span class="n">schema_name</span><span class="p">,</span>
    <span class="s2">&quot;table1&quot;</span><span class="p">,</span>
    <span class="n">db_name</span><span class="p">,</span>
    <span class="n">schema_name</span><span class="p">,</span>
    <span class="s2">&quot;table2&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">req</span><span class="o">.</span><span class="n">add_n_rows_equality_constraint</span><span class="p">()</span>
<span class="n">n_rows1</span> <span class="o">=</span> <span class="n">req</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_factual_value</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
<span class="n">n_rows2</span> <span class="o">=</span> <span class="n">req</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_target_value</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
</code></pre></div>
<p>Note that here, we access the first (and only) <code>Constraint</code> that has been added to the
<code>BetweenRequirement</code> by writing <code>req[0]</code>. <code>Requirements</code> are are sequences of
<code>Constraint</code> s, after all.</p>
<p>Once the numbers of rows are retrieved, we can compare them as we wish. For instance, we
could compute the absolute and relative growth (or loss) of numbers of rows from
<code>table1</code> to <code>table2</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">absolute_change</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">n_rows2</span> <span class="o">-</span> <span class="n">n_rows1</span><span class="p">)</span>
<span class="n">relative_change</span> <span class="o">=</span> <span class="p">(</span><span class="n">absolute_change</span><span class="p">)</span> <span class="o">/</span> <span class="n">n_rows1</span> <span class="k">if</span> <span class="n">n_rows1</span> <span class="o">!=</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
</code></pre></div>
<p>Importantly, many datajudge staples, such as <code>Condition</code> s can be used, too. We shall see
this in our next example.</p>
<h2 id="example-2-investigating-unique-values">Example 2: Investigating unique values</h2>
<p>In this example we will suppose that there is a table called <code>table</code> consisting of
several columns. Two of its columns are supposed to be called <code>col_int</code> and
<code>col_varchar</code>. We are now interested in the unique values in these two columns combined.
Put differently, we are wondering:</p>
<blockquote>
<p>Which unique pairs of values in <code>col_int</code> and <code>col_varchar</code> have we encountered?</p>
</blockquote>
<p>To add to the mix, we will moreover only be interested in tuples in which <code>col_int</code> has a
value of larger than 10.</p>
<p>As before, we will start off by creating a <code>Requirement</code>. Since we are only dealing with
a single table this time, we will create a <code>WithinRequirement</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sa</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datajudge</span><span class="w"> </span><span class="kn">import</span> <span class="n">WithinRequirement</span><span class="p">,</span> <span class="n">Condition</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="n">your_connection_string</span><span class="p">)</span>

<span class="n">req</span> <span class="o">=</span> <span class="n">requirements</span><span class="o">.</span><span class="n">WithinRequirement</span><span class="o">.</span><span class="n">from_table</span><span class="p">(</span>
    <span class="n">db_name</span><span class="p">,</span>
    <span class="n">schema_name</span><span class="p">,</span>
    <span class="s2">&quot;table&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">condition</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">(</span><span class="n">raw_string</span><span class="o">=</span><span class="s2">&quot;col_int &gt;= 10&quot;</span><span class="p">)</span>

<span class="n">req</span><span class="o">.</span><span class="n">add_uniques_equality_constraint</span><span class="p">(</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;col_int&quot;</span><span class="p">,</span> <span class="s2">&quot;col_varchar&quot;</span><span class="p">],</span>
    <span class="n">uniques</span><span class="o">=</span><span class="p">[],</span> <span class="c1"># This is really just a placeholder.</span>
    <span class="n">condition</span><span class="o">=</span><span class="n">condition</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">uniques</span> <span class="o">=</span> <span class="n">req</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_factual_value</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
</code></pre></div>
<p>If one was to investigate this <code>uniques</code> variable further, one could, e.g. see the
following:</p>
<div class="highlight"><pre><span></span><code><span class="p">([(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;hi10&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;hi11&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;hi12&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;hi13&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;hi14&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;hi15&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;hi16&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;hi17&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;hi18&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;hi19&#39;</span><span class="p">)],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</code></pre></div>
<p>This becomes easier to parse when inspecting the underlying <code>retrieve</code> method of the
<code>UniquesEquality</code> <code>Constraint</code>: the first value of the tuple corresponds to the list
of unique pairs in columns <code>col_int</code> and <code>col_varchar</code>. The second value of the tuple
are the respective counts thereof.</p>
<p>Moreoever, one could manually customize the underlying SQL query. In order to do so, one
can use the fact that <code>retrieve</code> methods typically return an actual result or value
as well as the sqlalchemy selections that led to said result or value. We can use these
selections and compile them to a standard, textual SQL query:</p>
<div class="highlight"><pre><span></span><code><span class="n">values</span><span class="p">,</span> <span class="n">selections</span> <span class="o">=</span> <span class="n">req</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="n">constraint</span><span class="o">.</span><span class="n">ref</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">selections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="n">compile_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;literal_binds&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}))</span>
</code></pre></div>
<p>In the case from above, this would return the following query:</p>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">    </span><span class="n">anon_1</span><span class="p">.</span><span class="n">col_int</span><span class="p">,</span>
<span class="n">anon_1</span><span class="p">.</span><span class="n">col_varchar</span><span class="p">,</span>
<span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">count_1</span>
<span class="k">FROM</span>
<span class="w">    </span><span class="p">(</span><span class="k">SELECT</span>
<span class="w">    </span><span class="n">tempdb</span><span class="p">.</span><span class="n">dbo</span><span class="p">.</span><span class="k">table</span><span class="p">.</span><span class="n">col_int</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">col_int</span><span class="p">,</span>
<span class="w">    </span><span class="n">tempdb</span><span class="p">.</span><span class="n">dbo</span><span class="p">.</span><span class="k">table</span><span class="p">.</span><span class="n">col_varchar</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">col_varchar</span>
<span class="w">    </span><span class="k">FROM</span>
<span class="w">    </span><span class="n">tempdb</span><span class="p">.</span><span class="n">dbo</span><span class="p">.</span><span class="k">table</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">col_int</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">anon_1</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">col_int</span><span class="p">,</span><span class="w"> </span><span class="n">anon_1</span><span class="p">.</span><span class="n">col_varchar</span>
</code></pre></div>
<h2 id="example-3-comparing-column-structure">Example 3: Comparing column structure</h2>
<p>While we often care about value tuples of given columns, i.e. rows, it can also provide
meaningful insights to compare the column structure of two tables. In particular, we
might want to compare whether columns of one table are a subset or superset of another
table. Moreover, for columns present in both tables, we'd like to learn about their
respective types.</p>
<p>In order to illustrate such an example, we will again assume that there are two tables
called <code>table1</code> and <code>table2</code>, irrespective of prior examples.</p>
<p>We can now create a <code>BetweenRequirement</code> for these two tables and use the
<code>ColumnSubset</code> <code>Constraint</code>. As before, we will rely on the <code>get_factual_value</code>
method to retrieve the values of interest for the first table passed to the
<code>BetweenRequirement</code> and the <code>get_target_value</code> method for the second table passed
to the <code>BetweenRequirement</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sa</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datajudge</span><span class="w"> </span><span class="kn">import</span> <span class="n">BetweenRequirement</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="n">your_connection_string</span><span class="p">)</span>

<span class="n">req</span> <span class="o">=</span> <span class="n">BetweenRequirement</span><span class="o">.</span><span class="n">from_tables</span><span class="p">(</span>
    <span class="n">db_name</span><span class="p">,</span>
    <span class="n">schema_name</span><span class="p">,</span>
    <span class="s2">&quot;table1&quot;</span><span class="p">,</span>
    <span class="n">db_name</span><span class="p">,</span>
    <span class="n">schema_name</span><span class="p">,</span>
    <span class="s2">&quot;table2&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">req</span><span class="o">.</span><span class="n">add_column_subset_constraint</span><span class="p">()</span>

<span class="n">columns1</span> <span class="o">=</span> <span class="n">req</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_factual_value</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
<span class="n">columns2</span> <span class="o">=</span> <span class="n">req</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_target_value</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columns present in both: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">columns1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nb">set</span><span class="p">(</span><span class="n">columns2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columns present in only table1: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">columns1</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">set</span><span class="p">(</span><span class="n">columns2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columns present in only table2: </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">columns2</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">set</span><span class="p">(</span><span class="n">columns1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This could, for instance result in the following printout:</p>
<div class="highlight"><pre><span></span><code>Columns present in both: {&#39;col_varchar&#39;, &#39;col_int&#39;}
Columns present in only table1: set()
Columns present in only table2: {&#39;col_date&#39;}
</code></pre></div>
<p>Now, we can investigate the types of the columns present in both tables:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">columns1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">columns2</span><span class="p">):</span>
    <span class="n">req</span><span class="o">.</span><span class="n">add_column_type_constraint</span><span class="p">(</span><span class="n">column1</span><span class="o">=</span><span class="n">column</span><span class="p">,</span> <span class="n">column2</span><span class="o">=</span><span class="n">column</span><span class="p">)</span>
<span class="n">type1</span> <span class="o">=</span> <span class="n">req</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_factual_value</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
<span class="n">type2</span> <span class="o">=</span> <span class="n">req</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_target_value</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Column &#39;</span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s2">&#39; has type &#39;</span><span class="si">{</span><span class="n">type1</span><span class="si">}</span><span class="s2">&#39; in table1 and type &#39;</span><span class="si">{</span><span class="n">type2</span><span class="si">}</span><span class="s2">&#39; in table2.&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Depending on the underlying database management system and data, the output of this
could for instance be:</p>
<div class="highlight"><pre><span></span><code>Column &#39;col_varchar&#39; has type &#39;varchar&#39; in table1 and type &#39;varchar&#39; in table2.
Column &#39;col_int&#39; has type &#39;integer&#39; in table1 and type &#39;integer&#39; in table2.
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.action.edit", "search.suggest", "search.highlight", "content.code.annotate", "content.code.copy", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="../../javascripts/external_links.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>